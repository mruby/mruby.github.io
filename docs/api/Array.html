<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Array
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/mruby.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Array";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/mruby.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (A)</a> &raquo;
    
    
    <span class="title">Array</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Array
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Array</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>mrblib/array.rb<span class="defines">,<br />
  src/array.c,<br /> mrblib/array.rb,<br /> mrbgems/mruby-array-ext/mrblib/array.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Array is enumerable</p>


  </div>
</div>
<div class="tags">
  

</div>




  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#NONE-constant" title="Enumerable::NONE (constant)">Enumerable::NONE</a></span></p>





  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#&-instance_method" title="#&amp; (instance method)">#<strong>&amp;</strong>(elem)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary &amp; other_ary      -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.2.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.1.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>(elem)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary - other_ary    -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.3.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Comparison—Returns an integer (-1, 0, or +1)  if this array is less than, equal to, or greater than <i>other_ary</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Equality—Two arrays are equal if they contain the same number  of elements and if each element is equal to (according to  Object.==) the corresponding element in the other array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Reference — Returns the element at +index+, or returns a subarray starting at the +start+ index and continuing for +length+ elements, or returns a subarray specified by +range+ of indices.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Assignment — Sets the element at +index+, or replaces a subarray from the +start+ index for +length+ elements, or replaces a subarray specified by the +range+ of indices.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__ary_cmp-instance_method" title="#__ary_cmp (instance method)">#<strong>__ary_cmp</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__ary_eq-instance_method" title="#__ary_eq (instance method)">#<strong>__ary_eq</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.30.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__ary_index-instance_method" title="#__ary_index (instance method)">#<strong>__ary_index</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>kept for mruby-array-ext.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__svalue-instance_method" title="#__svalue (instance method)">#<strong>__svalue</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>internal method to convert multi-value to single value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_inspect-instance_method" title="#_inspect (instance method)">#<strong>_inspect</strong>(recur_list)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assoc-instance_method" title="#assoc (instance method)">#<strong>assoc</strong>(obj)  &#x21d2; Array<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Searches through an array whose elements are also arrays comparing <em>obj</em> with the first element of each contained array using obj.==.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at-instance_method" title="#at (instance method)">#<strong>at</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the element at <em>index</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bsearch-instance_method" title="#bsearch (instance method)">#<strong>bsearch</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.bsearch {</td>
      <td>x</td>
      <td>block }  -&gt; elem.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bsearch_index-instance_method" title="#bsearch_index (instance method)">#<strong>bsearch_index</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.bsearch_index {</td>
      <td>x</td>
      <td>block }  -&gt; int or nil.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.6.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#collect!-instance_method" title="#collect! (instance method)">#<strong>collect!</strong>(&amp;block)  &#x21d2; Object </a>
    

    
      (also: #map!)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the given block for each element of +self+ and pass the respective element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#combination-instance_method" title="#combination (instance method)">#<strong>combination</strong>(n, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    ary.combination(n) {</td>
      <td>c</td>
      <td>block }    -&gt; ary    ary.combination(n)                  -&gt; Enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.compact     -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compact!-instance_method" title="#compact! (instance method)">#<strong>compact!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.compact!    -&gt; ary  or  nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.8.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(key, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Delete element with index +key+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_at-instance_method" title="#delete_at (instance method)">#<strong>delete_at</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.9.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.delete_if {</td>
      <td>item</td>
      <td>block }  -&gt; ary     ary.delete_if                   -&gt; Enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#difference-instance_method" title="#difference (instance method)">#<strong>difference</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.difference(other_ary1, other_ary2, …)   -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(idx, *args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:   ary.dig(idx, …)                 -&gt; object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_index-instance_method" title="#each_index (instance method)">#<strong>each_index</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the given block for each element of +self+ and pass the index of the respective element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.12.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns <code>true</code> if +self+ and <em>other</em> are the same object,  or are both arrays with the same content.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(n, ifnone = NONE, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.fetch(index)                    -&gt; obj     ary.fetch(index, default)           -&gt; obj     ary.fetch(index) {</td>
      <td>index</td>
      <td>block }  -&gt; obj.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fill-instance_method" title="#fill (instance method)">#<strong>fill</strong>(arg0 = nil, arg1 = nil, arg2 = nil, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.fill(obj)                                 -&gt; ary     ary.fill(obj, start [, length])               -&gt; ary     ary.fill(obj, range )                         -&gt; ary     ary.fill {</td>
      <td>index</td>
      <td>block }                    -&gt; ary     ary.fill(start [, length] ) {</td>
      <td>index</td>
      <td>block } -&gt; ary     ary.fill(range) {</td>
      <td>index</td>
      <td>block }             -&gt; ary.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.13.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten-instance_method" title="#flatten (instance method)">#<strong>flatten</strong>(depth = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.flatten -&gt; new_ary    ary.flatten(level) -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten!-instance_method" title="#flatten! (instance method)">#<strong>flatten!</strong>(depth = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.flatten!        -&gt; ary or nil    ary.flatten!(level) -&gt; array or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(val = NONE, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.index(val)            -&gt; int or nil     ary.index {</td>
      <td>item</td>
      <td>block } -&gt;  int or nil.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(size = 0, obj = nil, &amp;block)  &#x21d2; Array </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Private method for Array creation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.16.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(idx, *args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     ary.insert(index, obj…)  -&gt; ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; Object </a>
    

    
      (also: #to_s)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return the contents of this array as a string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#intersection-instance_method" title="#intersection (instance method)">#<strong>intersection</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.intersection(other_ary,…)  -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join-instance_method" title="#join (instance method)">#<strong>join</strong>(sep = &quot;&quot;)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a string created by converting each element of the array to a string, separated by <i>sep</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keep_if-instance_method" title="#keep_if (instance method)">#<strong>keep_if</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.keep_if {</td>
      <td>item</td>
      <td>block } -&gt; ary     ary.keep_if                  -&gt; Enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.18.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.19.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#permutation-instance_method" title="#permutation (instance method)">#<strong>permutation</strong>(n = self.size, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    ary.permutation {</td>
      <td>p</td>
      <td>block }          -&gt; ary    ary.permutation                        -&gt; Enumerator    ary.permutation(n) {</td>
      <td>p</td>
      <td>block }       -&gt; ary    ary.permutation(n)                     -&gt; Enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pop-instance_method" title="#pop (instance method)">#<strong>pop</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.21.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>  &#x21d2; Object </a>
    

    
      (also: #append)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.22.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rassoc-instance_method" title="#rassoc (instance method)">#<strong>rassoc</strong>(obj)  &#x21d2; Array<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Searches through the array whose elements are also arrays.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reject!-instance_method" title="#reject! (instance method)">#<strong>reject!</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.reject! {</td>
      <td>item</td>
      <td>block }  -&gt; ary or nil     ary.reject!                   -&gt; Enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.23.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.24.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse!-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.25.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse_each-instance_method" title="#reverse_each (instance method)">#<strong>reverse_each</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>for efficiency.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.26.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rotate-instance_method" title="#rotate (instance method)">#<strong>rotate</strong>(count = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     ary.rotate(count=1)    -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rotate!-instance_method" title="#rotate! (instance method)">#<strong>rotate!</strong>(count = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     ary.rotate!(count=1)   -&gt; ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select!-instance_method" title="#select! (instance method)">#<strong>select!</strong>(&amp;block)  &#x21d2; Object </a>
    

    
      (also: #filter!)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     ary.select!  {</td>
      <td>item</td>
      <td>block } -&gt; ary or nil     ary.select!                  -&gt; Enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.27.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.28.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Reference — Returns the element at +index+, or returns a subarray starting at the +start+ index and continuing for +length+ elements, or returns a subarray specified by +range+ of indices.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice!-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deletes the element(s) given by an +index+ (optionally up to +length+ elements) or by a +range+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sort!-instance_method" title="#sort! (instance method)">#<strong>sort!</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sort all elements and replace +self+ with these elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>(&amp;blk)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    ary.to_h                -&gt;   Hash    ary.to_h{</td>
      <td>item</td>
      <td>… }   -&gt;   Hash.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#transpose-instance_method" title="#transpose (instance method)">#<strong>transpose</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.transpose -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#union-instance_method" title="#union (instance method)">#<strong>union</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    ary.union(other_ary,…)  -&gt; new_ary.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    ary.uniq                -&gt; new_ary    ary.uniq {</td>
      <td>item</td>
      <td>… } -&gt; new_ary.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uniq!-instance_method" title="#uniq! (instance method)">#<strong>uniq!</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    ary.uniq!                -&gt; ary or nil    ary.uniq! {</td>
      <td>item</td>
      <td>… } -&gt; ary or nil.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unshift-instance_method" title="#unshift (instance method)">#<strong>unshift</strong>  &#x21d2; Object </a>
    

    
      (also: #prepend)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.12.5.30.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%7C-instance_method" title="#| (instance method)">#<strong>|</strong>(elem)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    ary</td>
      <td>other_ary     -&gt; new_ary.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#__update_hash-class_method" title="Enumerable.__update_hash (method)">__update_hash</a></span>, <span class='object_link'><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></span>, <span class='object_link'><a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></span>, <span class='object_link'><a href="Enumerable.html#chain-instance_method" title="Enumerable#chain (method)">#chain</a></span>, <span class='object_link'><a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></span>, <span class='object_link'><a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></span>, <span class='object_link'><a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></span>, <span class='object_link'><a href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></span>, <span class='object_link'><a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></span>, <span class='object_link'><a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></span>, <span class='object_link'><a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></span>, <span class='object_link'><a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></span>, <span class='object_link'><a href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></span>, <span class='object_link'><a href="Enumerable.html#filter_map-instance_method" title="Enumerable#filter_map (method)">#filter_map</a></span>, <span class='object_link'><a href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></span>, <span class='object_link'><a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></span>, <span class='object_link'><a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></span>, <span class='object_link'><a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></span>, <span class='object_link'><a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></span>, <span class='object_link'><a href="Enumerable.html#hash-instance_method" title="Enumerable#hash (method)">#hash</a></span>, <span class='object_link'><a href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a></span>, <span class='object_link'><a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></span>, <span class='object_link'><a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a></span>, <span class='object_link'><a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></span>, <span class='object_link'><a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></span>, <span class='object_link'><a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></span>, <span class='object_link'><a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></span>, <span class='object_link'><a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></span>, <span class='object_link'><a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></span>, <span class='object_link'><a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></span>, <span class='object_link'><a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></span>, <span class='object_link'><a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></span>, <span class='object_link'><a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a></span>, <span class='object_link'><a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></span>, <span class='object_link'><a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></span>, <span class='object_link'><a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></span>, <span class='object_link'><a href="Enumerable.html#tally-instance_method" title="Enumerable#tally (method)">#tally</a></span>, <span class='object_link'><a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(size = 0, obj = nil, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Private method for Array creation.</p>

<p>ISO 15.2.12.5.15</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 68</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>(size=<span style="color:#00D">0</span>, obj=<span style="color:#069">nil</span>, &amp;block)
  size = size.__to_int
  raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">negative array size</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> size &lt; <span style="color:#00D">0</span>

  <span style="color:#069">self</span>.clear
  <span style="color:#080;font-weight:bold">if</span> size &gt; <span style="color:#00D">0</span>
    <span style="color:#069">self</span>[size - <span style="color:#00D">1</span>] = <span style="color:#069">nil</span> <span style="color:#777"># allocate</span>

    idx = <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">while</span> idx &lt; size
      <span style="color:#069">self</span>[idx] = (block)? block.call(idx): obj
      idx += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="&-instance_method">
  
    #<strong>&amp;</strong>(elem)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary &amp; other_ary      -&gt; new_ary</p>

<p>Set Intersection—Returns a new array
containing elements common to the two arrays, with no duplicates.</p>

<p>[ 1, 1, 3, 5 ] &amp; [ 1, 2, 3 ]   #=&gt; [ 1, 3 ]</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 152</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">&amp;</span>(elem)
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>elem.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> into Array</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> elem.class == <span style="color:#036;font-weight:bold">Array</span>

  hash = {}
  array = []
  idx = <span style="color:#00D">0</span>
  len = elem.size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    hash[elem[idx]] = <span style="color:#069">true</span>
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  idx = <span style="color:#00D">0</span>
  len = size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    v = <span style="color:#069">self</span>[idx]
    <span style="color:#080;font-weight:bold">if</span> hash[v]
      array &lt;&lt; v
      hash.delete v
    <span style="color:#080;font-weight:bold">end</span>
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  array
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="*-instance_method">
  
    #<strong>*</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.2</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 424</span>

static mrb_value
mrb_ary_times(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a1 = mrb_ary_ptr(<span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">RArray</span> *a2;
  mrb_value *ptr;
  mrb_int times, len1;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">i</span><span style="color:#710">&quot;</span></span>, &amp;times);
  <span style="color:#080;font-weight:bold">if</span> (times &lt; <span style="color:#00D">0</span>) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">negative argument</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">if</span> (times == <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_ary_new(mrb);
  <span style="color:#080;font-weight:bold">if</span> (<span style="color:#036;font-weight:bold">ARY_MAX_SIZE</span> / times &lt; ARY_LEN(a1)) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">array size too big</span><span style="color:#710">&quot;</span></span>);
  }
  len1 = ARY_LEN(a1);
  a2 = ary_new_capa(mrb, len1 * times);
  ARY_SET_LEN(a2, len1 * times);
  ptr = ARY_PTR(a2);
  <span style="color:#080;font-weight:bold">while</span> (times--) {
    array_copy(ptr, ARY_PTR(a1), len1);
    ptr += len1;
  }

  <span style="color:#080;font-weight:bold">return</span> mrb_obj_value(a2);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="+-instance_method">
  
    #<strong>+</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.1</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 338</span>

static mrb_value
mrb_ary_plus(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a1 = mrb_ary_ptr(<span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">RArray</span> *a2;
  mrb_value *ptr;
  mrb_int blen, len1;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, &amp;ptr, &amp;blen);
  <span style="color:#080;font-weight:bold">if</span> (<span style="color:#036;font-weight:bold">ARY_MAX_SIZE</span> - blen &lt; ARY_LEN(a1)) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">array size too big</span><span style="color:#710">&quot;</span></span>);
  }
  len1 = ARY_LEN(a1);
  a2 = ary_new_capa(mrb, len1 + blen);
  array_copy(ARY_PTR(a2), ARY_PTR(a1), len1);
  array_copy(ARY_PTR(a2) + len1, ptr, blen);
  ARY_SET_LEN(a2, len1+blen);

  <span style="color:#080;font-weight:bold">return</span> mrb_obj_value(a2);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="--instance_method">
  
    #<strong>-</strong>(elem)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary - other_ary    -&gt; new_ary</p>

<p>Array Difference—Returns a new array that is a copy of
the original array, removing any items that also appear in
<i>other_ary</i>. (If you need set-like behavior, see the
library class Set.)</p>

<p>[ 1, 1, 2, 2, 3, 3, 4, 5 ] - [ 1, 2, 4 ]  #=&gt;  [ 3, 3, 5 ]</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 70</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">-</span>(elem)
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>elem.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> into Array</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> elem.class == <span style="color:#036;font-weight:bold">Array</span>

  hash = {}
  array = []
  idx = <span style="color:#00D">0</span>
  len = elem.size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    hash[elem[idx]] = <span style="color:#069">true</span>
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  idx = <span style="color:#00D">0</span>
  len = size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    v = <span style="color:#069">self</span>[idx]
    array &lt;&lt; v <span style="color:#080;font-weight:bold">unless</span> hash[v]
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  array
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="<<-instance_method">
  
    #<strong>&lt;&lt;</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.3</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 508</span>

static mrb_value
mrb_ary_push_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value *argv;
  mrb_int len, len2, alen;
  struct <span style="color:#036;font-weight:bold">RArray</span> *a;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*!</span><span style="color:#710">&quot;</span></span>, &amp;argv, &amp;alen);
  a = mrb_ary_ptr(<span style="color:#069">self</span>);
  ary_modify(mrb, a);
  len = ARY_LEN(a);
  len2 = len + alen;
  <span style="color:#080;font-weight:bold">if</span> (ARY_CAPA(a) &lt; len2) {
    ary_expand_capa(mrb, a, len2);
  }
  array_copy(ARY_PTR(a)+len, argv, alen);
  ARY_SET_LEN(a, len2);
  mrb_write_barrier(mrb, (struct <span style="color:#036;font-weight:bold">RBasic</span>*)a);

  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="<=>-instance_method">
  
    #<strong>&lt;=&gt;</strong>(other)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Comparison—Returns an integer (-1, 0, or +1)
 if this array is less than, equal to, or greater than <i>other_ary</i>.
 Each object in each array is compared (using &lt;=&gt;). If any value isn’t
 equal, then that inequality is the return value. If all the
 values found are equal, then the return is based on a
 comparison of the array lengths.  Thus, two arrays are
 “equal” according to <code>Array#&lt;=&gt;</code> if and only if they have
 the same length and the value of each element is equal to the
 value of the corresponding element in the other array.</p>

<p>ISO 15.2.12.5.36 (x)</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 158</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">&lt;=&gt;</span>(other)
  other = <span style="color:#069">self</span>.__ary_cmp(other)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#00D">0</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#00D">0</span> == other
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">nil</span> == other

  len = <span style="color:#069">self</span>.size
  n = other.size
  len = n <span style="color:#080;font-weight:bold">if</span> len &gt; n
  i = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> i &lt; len
    n = (<span style="color:#069">self</span>[i] &lt;=&gt; other[i])
    <span style="color:#080;font-weight:bold">return</span> n <span style="color:#080;font-weight:bold">if</span> n.nil? || n != <span style="color:#00D">0</span>
    i += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  len = <span style="color:#069">self</span>.size - other.size
  <span style="color:#080;font-weight:bold">if</span> len == <span style="color:#00D">0</span>
    <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">elsif</span> len &gt; <span style="color:#00D">0</span>
    <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#00D">-1</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="==-instance_method">
  
    #<strong>==</strong>(other)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Equality—Two arrays are equal if they contain the same number
 of elements and if each element is equal to (according to
 Object.==) the corresponding element in the other array.</p>

<p>ISO 15.2.12.5.33 (x)</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 115</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">==</span>(other)
  other = <span style="color:#069">self</span>.__ary_eq(other)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">if</span> other == <span style="color:#069">false</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>  <span style="color:#080;font-weight:bold">if</span> other == <span style="color:#069">true</span>
  len = <span style="color:#069">self</span>.size
  i = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> i &lt; len
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>[i] != other[i]
    i += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    
      <span class="overload">#<strong>[]</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Reference — Returns the element at +index+, or returns a
subarray starting at the +start+ index and continuing for +length+
elements, or returns a subarray specified by +range+ of indices.</p>

<p>Negative indices count backward from the end of the array (-1 is the last
element).  For +start+ and +range+ cases the starting index is just before
an element.  Additionally, an empty array is returned when the starting
index for an element range is at the end of the array.</p>

<p>Returns +nil+ if the index (or starting index) are out of range.</p>

<p>a = [ “a”, “b”, “c”, “d”, “e” ]
a[1]     =&gt; “b”
a[1,2]   =&gt; [“b”, “c”]
a[1..-2] =&gt; [“b”, “c”, “d”]</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 852</span>

static mrb_value
mrb_ary_aget(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int i, len, alen;
  mrb_value index;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o|i</span><span style="color:#710">&quot;</span></span>, &amp;index, &amp;len) == <span style="color:#00D">1</span>) {
    switch (mrb_type(index)) {
      <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">* a[n..m] *</span><span style="color:#404">/</span></span>
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_TT_RANGE</span>:
      <span style="color:#080;font-weight:bold">if</span> (mrb_range_beg_len(mrb, index, &amp;i, &amp;len, ARY_LEN(a), <span style="color:#069">TRUE</span>) == <span style="color:#036;font-weight:bold">MRB_RANGE_OK</span>) {
        <span style="color:#080;font-weight:bold">return</span> ary_subseq(mrb, a, i, len);
      }
      <span style="color:#080;font-weight:bold">else</span> {
        <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
      }
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_TT_FIXNUM</span>:
      <span style="color:#080;font-weight:bold">return</span> mrb_ary_ref(mrb, <span style="color:#069">self</span>, mrb_fixnum(index));
    <span style="color:#606">default</span>:
      <span style="color:#080;font-weight:bold">return</span> mrb_ary_ref(mrb, <span style="color:#069">self</span>, aget_index(mrb, index));
    }
  }

  i = aget_index(mrb, index);
  alen = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (i &lt; <span style="color:#00D">0</span>) i += alen;
  <span style="color:#080;font-weight:bold">if</span> (i &lt; <span style="color:#00D">0</span> || alen &lt; i) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (len &lt; <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (alen == i) <span style="color:#080;font-weight:bold">return</span> mrb_ary_new(mrb);
  <span style="color:#080;font-weight:bold">if</span> (len &gt; alen - i) len = alen - i;

  <span style="color:#080;font-weight:bold">return</span> ary_subseq(mrb, a, i, len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]=-instance_method">
  
    
      <span class="overload">#<strong>[]=</strong>(index)  &#x21d2; <tt>Object</tt> </span>
    
      <span class="overload">#<strong>[]=</strong>(start, length)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]=</strong>(range)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Assignment — Sets the element at +index+, or replaces a subarray
from the +start+ index for +length+ elements, or replaces a subarray
specified by the +range+ of indices.</p>

<p>If indices are greater than the current capacity of the array, the array
grows automatically.  Elements are inserted into the array at +start+ if
+length+ is zero.</p>

<p>Negative indices will count backward from the end of the array.  For
+start+ and +range+ cases the starting index is just before an element.</p>

<p>An IndexError is raised if a negative index points past the beginning of
the array.</p>

<p>See also Array#push, and Array#unshift.</p>

<p>a = Array.new
   a[4] = “4”;                 #=&gt; [nil, nil, nil, nil, “4”]
   a[0, 3] = [ ‘a’, ‘b’, ‘c’ ] #=&gt; [“a”, “b”, “c”, nil, “4”]
   a[1..2] = [ 1, 2 ]          #=&gt; [“a”, 1, 2, nil, “4”]
   a[0, 2] = “?”               #=&gt; [”?”, 2, nil, “4”]
   a[0..2] = “A”               #=&gt; [“A”, “4”]
   a[-1]   = “Z”               #=&gt; [“A”, “Z”]
   a[1..-1] = nil              #=&gt; [“A”, nil]
   a[1..-1] = []               #=&gt; [“A”]
   a[0, 0] = [ 1, 2 ]          #=&gt; [1, 2, “A”]
   a[3, 0] = “B”               #=&gt; [1, 2, “A”, “B”]</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]=</strong>(index)  &#x21d2; <tt>Object</tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]=</strong>(start, length)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]=</strong>(range)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 922</span>

static mrb_value
mrb_ary_aset(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value v1, v2, v3;
  mrb_int i, len;

  mrb_ary_modify(mrb, mrb_ary_ptr(<span style="color:#069">self</span>));
  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">oo|o</span><span style="color:#710">&quot;</span></span>, &amp;v1, &amp;v2, &amp;v3) == <span style="color:#00D">2</span>) {
    <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">* a[n..m] = v *</span><span style="color:#404">/</span></span>
    switch (mrb_range_beg_len(mrb, v1, &amp;i, &amp;len, RARRAY_LEN(<span style="color:#069">self</span>), <span style="color:#069">FALSE</span>)) {
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_RANGE_TYPE_MISMATCH</span>:
      mrb_ary_set(mrb, <span style="color:#069">self</span>, aget_index(mrb, v1), v2);
      <span style="color:#080;font-weight:bold">break</span>;
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_RANGE_OK</span>:
      mrb_ary_splice(mrb, <span style="color:#069">self</span>, i, len, v2);
      <span style="color:#080;font-weight:bold">break</span>;
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_RANGE_OUT</span>:
      mrb_raisef(mrb, <span style="color:#036;font-weight:bold">E_RANGE_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">%v out of range</span><span style="color:#710">&quot;</span></span>, v1);
      <span style="color:#080;font-weight:bold">break</span>;
    }
    <span style="color:#080;font-weight:bold">return</span> v2;
  }

  <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">* a[n,m] = v *</span><span style="color:#404">/</span></span>
  mrb_ary_splice(mrb, <span style="color:#069">self</span>, aget_index(mrb, v1), aget_index(mrb, v2), v3);
  <span style="color:#080;font-weight:bold">return</span> v3;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__ary_cmp-instance_method">
  
    #<strong>__ary_cmp</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1232</span>

static mrb_value
mrb_ary_cmp(mrb_state *mrb, mrb_value ary1)
{
  mrb_value ary2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;ary2);
  <span style="color:#080;font-weight:bold">if</span> (mrb_obj_equal(mrb, ary1, ary2)) <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(<span style="color:#00D">0</span>);
  <span style="color:#080;font-weight:bold">if</span> (!mrb_array_p(ary2)) {
    <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  }

  <span style="color:#080;font-weight:bold">return</span> ary2;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__ary_eq-instance_method">
  
    #<strong>__ary_eq</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.30</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1217</span>

static mrb_value
mrb_ary_eq(mrb_state *mrb, mrb_value ary1)
{
  mrb_value ary2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;ary2);
  <span style="color:#080;font-weight:bold">if</span> (mrb_obj_equal(mrb, ary1, ary2)) <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
  <span style="color:#080;font-weight:bold">if</span> (!mrb_array_p(ary2)) {
    <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
  }
  <span style="color:#080;font-weight:bold">if</span> (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) <span style="color:#080;font-weight:bold">return</span> mrb_false_value();

  <span style="color:#080;font-weight:bold">return</span> ary2;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__ary_index-instance_method">
  
    #<strong>__ary_index</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>kept for mruby-array-ext</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1025</span>

static mrb_value
mrb_ary_index_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value obj;
  mrb_int i;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;obj);
  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; RARRAY_LEN(<span style="color:#069">self</span>); i++) {
    <span style="color:#080;font-weight:bold">if</span> (mrb_equal(mrb, RARRAY_PTR(<span style="color:#069">self</span>)[i], obj)) {
      <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(i);
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__svalue-instance_method">
  
    #<strong>__svalue</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>internal method to convert multi-value to single value</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1247</span>

static mrb_value
mrb_ary_svalue(mrb_state *mrb, mrb_value ary)
{
  switch (RARRAY_LEN(ary)) {
  <span style="color:#080;font-weight:bold">case</span> <span style="color:#00D">0</span>:
    <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">case</span> <span style="color:#00D">1</span>:
    <span style="color:#080;font-weight:bold">return</span> RARRAY_PTR(ary)[<span style="color:#00D">0</span>];
  <span style="color:#606">default</span>:
    <span style="color:#080;font-weight:bold">return</span> ary;
  }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_inspect-instance_method">
  
    #<strong>_inspect</strong>(recur_list)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 86</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">_inspect</span>(recur_list)
  size = <span style="color:#069">self</span>.size
  <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[]</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> size == <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[...]</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> recur_list[<span style="color:#069">self</span>.object_id]
  recur_list[<span style="color:#069">self</span>.object_id] = <span style="color:#069">true</span>
  ary=[]
  i=<span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> i&lt;size
    ary&lt;&lt;<span style="color:#069">self</span>[i]._inspect(recur_list)
    i+=<span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[</span><span style="color:#710">&quot;</span></span>+ary.join(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, </span><span style="color:#710">&quot;</span></span>)+<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">]</span><span style="color:#710">&quot;</span></span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="assoc-instance_method">
  
    #<strong>assoc</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Searches through an array whose elements are also arrays
comparing <em>obj</em> with the first element of each contained array
using obj.==.
Returns the first contained array that matches (that
is, the first associated array),
or +nil+ if no match is found.
See also <code>Array#rassoc</code>.</p>

<p>s1 = [ “colors”, “red”, “blue”, “green” ]
   s2 = [ “letters”, “a”, “b”, “c” ]
   s3 = “foo”
   a  = [ s1, s2, s3 ]
   a.assoc(“letters”)  #=&gt; [ “letters”, “a”, “b”, “c” ]
   a.assoc(“foo”)      #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/src/array.c', line 27</span>

static mrb_value
mrb_ary_assoc(mrb_state *mrb, mrb_value ary)
{
  mrb_int i;
  mrb_value v, k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;k);

  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; RARRAY_LEN(ary); ++i) {
    v = mrb_check_array_type(mrb, RARRAY_PTR(ary)[i]);
    <span style="color:#080;font-weight:bold">if</span> (!mrb_nil_p(v) &amp;&amp; RARRAY_LEN(v) &gt; <span style="color:#00D">0</span> &amp;&amp;
        mrb_equal(mrb, RARRAY_PTR(v)[<span style="color:#00D">0</span>], k))
      <span style="color:#080;font-weight:bold">return</span> v;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at-instance_method">
  
    #<strong>at</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the element at <em>index</em>. A
negative index counts from the end of +self+.  Returns +nil+
if the index is out of range. See also <code>Array#[]</code>.</p>

<p>a = [ “a”, “b”, “c”, “d”, “e” ]
   a.at(0)     #=&gt; “a”
   a.at(-1)    #=&gt; “e”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92
93
94
95
96</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/src/array.c', line 89</span>

static mrb_value
mrb_ary_at(mrb_state *mrb, mrb_value ary)
{
  mrb_int pos;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">i</span><span style="color:#710">&quot;</span></span>, &amp;pos);

  <span style="color:#080;font-weight:bold">return</span> mrb_ary_entry(ary, pos);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bsearch-instance_method">
  
    #<strong>bsearch</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.bsearch {|x| block }  -&gt; elem</p>

<p>By using binary search, finds a value from this array which meets
 the given condition in O(log n) where n is the size of the array.</p>

<p>You can use this method in two use cases: a find-minimum mode and
 a find-any mode.  In either case, the elements of the array must be
 monotone (or sorted) with respect to the block.</p>

<p>In find-minimum mode (this is a good choice for typical use case),
 the block must return true or false, and there must be an index i
 (0 &lt;= i &lt;= ary.size) so that:</p>

<ul>
  <li>the block returns false for any element whose index is less than
i, and</li>
  <li>the block returns true for any element whose index is greater
than or equal to i.</li>
</ul>

<p>This method returns the i-th element.  If i is equal to ary.size,
 it returns nil.</p>

<pre class="code ruby"><code class="ruby">ary = [<span style="color:#00D">0</span>, <span style="color:#00D">4</span>, <span style="color:#00D">7</span>, <span style="color:#00D">10</span>, <span style="color:#00D">12</span>]
ary.bsearch {|x| x &gt;=   <span style="color:#00D">4</span> } <span style="color:#777">#=&gt; 4</span>
ary.bsearch {|x| x &gt;=   <span style="color:#00D">6</span> } <span style="color:#777">#=&gt; 7</span>
ary.bsearch {|x| x &gt;=  <span style="color:#00D">-1</span> } <span style="color:#777">#=&gt; 0</span>
ary.bsearch {|x| x &gt;= <span style="color:#00D">100</span> } <span style="color:#777">#=&gt; nil</span>
</code></pre>

<p>In find-any mode (this behaves like libc’s bsearch(3)), the block
 must return a number, and there must be two indices i and j
 (0 &lt;= i &lt;= j &lt;= ary.size) so that:</p>

<ul>
  <li>the block returns a positive number for ary[k] if 0 &lt;= k &lt; i,</li>
  <li>the block returns zero for ary[k] if i &lt;= k &lt; j, and</li>
  <li>the block returns a negative number for ary[k] if
j &lt;= k &lt; ary.size.</li>
</ul>

<p>Under this condition, this method returns any element whose index
 is within i…j.  If i is equal to j (i.e., there is no element
 that satisfies the block), this method returns nil.</p>

<pre class="code ruby"><code class="ruby">ary = [<span style="color:#00D">0</span>, <span style="color:#00D">4</span>, <span style="color:#00D">7</span>, <span style="color:#00D">10</span>, <span style="color:#00D">12</span>]
<span style="color:#777"># try to find v such that 4 &lt;= v &lt; 8</span>
ary.bsearch {|x| <span style="color:#00D">1</span> - (x / <span style="color:#00D">4</span>).truncate } <span style="color:#777">#=&gt; 4 or 7</span>
<span style="color:#777"># try to find v such that 8 &lt;= v &lt; 10</span>
ary.bsearch {|x| <span style="color:#00D">4</span> - (x / <span style="color:#00D">2</span>).truncate } <span style="color:#777">#=&gt; nil</span>
</code></pre>

<p>You must not mix the two modes at a time; the block must always
 return either true/false, or always return a number.  It is
 undefined which value is actually picked up at each iteration.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


632
633
634
635
636
637
638
639
640</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 632</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">bsearch</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:bsearch</span> <span style="color:#080;font-weight:bold">unless</span> block

  <span style="color:#080;font-weight:bold">if</span> idx = bsearch_index(&amp;block)
    <span style="color:#069">self</span>[idx]
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bsearch_index-instance_method">
  
    #<strong>bsearch_index</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.bsearch_index {|x| block }  -&gt; int or nil</p>

<p>By using binary search, finds an index of a value from this array which
 meets the given condition in O(log n) where n is the size of the array.</p>

<p>It supports two modes, depending on the nature of the block and they are
 exactly the same as in the case of #bsearch method with the only difference
 being that this method returns the index of the element instead of the
 element itself. For more details consult the documentation for #bsearch.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 654</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">bsearch_index</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:bsearch_index</span> <span style="color:#080;font-weight:bold">unless</span> block

  low = <span style="color:#00D">0</span>
  high = size
  satisfied = <span style="color:#069">false</span>

  <span style="color:#080;font-weight:bold">while</span> low &lt; high
    mid = ((low+high)/<span style="color:#00D">2</span>).truncate
    res = block.call <span style="color:#069">self</span>[mid]

    <span style="color:#080;font-weight:bold">case</span> res
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#00D">0</span> <span style="color:#777"># find-any mode: Found!</span>
      <span style="color:#080;font-weight:bold">return</span> mid
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#036;font-weight:bold">Numeric</span> <span style="color:#777"># find-any mode: Continue...</span>
      in_lower_half = res &lt; <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#069">true</span> <span style="color:#777"># find-min mode</span>
      in_lower_half = <span style="color:#069">true</span>
      satisfied = <span style="color:#069">true</span>
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#069">false</span>, <span style="color:#069">nil</span> <span style="color:#777"># find-min mode</span>
      in_lower_half = <span style="color:#069">false</span>
    <span style="color:#080;font-weight:bold">else</span>
      raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">invalid block result (must be numeric, true, false or nil)</span><span style="color:#710">'</span></span>
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#080;font-weight:bold">if</span> in_lower_half
      high = mid
    <span style="color:#080;font-weight:bold">else</span>
      low = mid + <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>

  satisfied ? low : <span style="color:#069">nil</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear-instance_method">
  
    #<strong>clear</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.6</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1105
1106
1107
1108
1109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1105</span>

static mrb_value
mrb_ary_clear_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_ary_clear(mrb, <span style="color:#069">self</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="collect!-instance_method">
  
    #<strong>collect!</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='map!-instance_method'>map!</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Calls the given block for each element of +self+
and pass the respective element. Each element will
be replaced by the resulting values.</p>

<p>ISO 15.2.12.5.7</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 46</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">collect!</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:collect!</span> <span style="color:#080;font-weight:bold">unless</span> block

  idx = <span style="color:#00D">0</span>
  len = size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    <span style="color:#069">self</span>[idx] = block.call <span style="color:#069">self</span>[idx]
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="combination-instance_method">
  
    #<strong>combination</strong>(n, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.combination(n) { |c| block }    -&gt; ary
   ary.combination(n)                  -&gt; Enumerator</p>

<p>When invoked with a block, yields all combinations of length +n+ of elements
from the array and then returns the array itself.</p>

<p>The implementation makes no guarantees about the order in which the
combinations are yielded.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>Examples:</p>

<p>a = [1, 2, 3, 4]
   a.combination(1).to_a  #=&gt; [[1],[2],[3],[4]]
   a.combination(2).to_a  #=&gt; [[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]
   a.combination(3).to_a  #=&gt; [[1,2,3],[1,2,4],[1,3,4],[2,3,4]]
   a.combination(4).to_a  #=&gt; [[1,2,3,4]]
   a.combination(0).to_a  #=&gt; [[]] # one combination of length 0
   a.combination(5).to_a  #=&gt; []   # no combinations of length 5</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 897</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">combination</span>(n, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:combination</span>, n) <span style="color:#080;font-weight:bold">unless</span> block
  size = <span style="color:#069">self</span>.size
  <span style="color:#080;font-weight:bold">if</span> n == <span style="color:#00D">0</span>
     <span style="color:#080;font-weight:bold">yield</span> []
  <span style="color:#080;font-weight:bold">elsif</span> n == <span style="color:#00D">1</span>
    i = <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">while</span> i&lt;size
      <span style="color:#080;font-weight:bold">yield</span> [<span style="color:#069">self</span>[i]]
      i += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">elsif</span> n &lt;= size
    i = <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">while</span> i&lt;size
      result = [<span style="color:#069">self</span>[i]]
      <span style="color:#069">self</span>[i+<span style="color:#00D">1</span>..<span style="color:#00D">-1</span>].combination(n-<span style="color:#00D">1</span>) <span style="color:#080;font-weight:bold">do</span> |c|
        <span style="color:#080;font-weight:bold">yield</span> result + c
      <span style="color:#080;font-weight:bold">end</span>
      i += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compact-instance_method">
  
    #<strong>compact</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.compact     -&gt; new_ary</p>

<p>Returns a copy of +self+ with all +nil+ elements removed.</p>

<p>[ “a”, nil, “b”, nil, “c”, nil ].compact
                     #=&gt; [ “a”, “b”, “c” ]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267
268
269</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 265</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">compact</span>
  result = <span style="color:#069">self</span>.dup
  result.compact!
  result
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compact!-instance_method">
  
    #<strong>compact!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.compact!    -&gt; ary  or  nil</p>

<p>Removes +nil+ elements from the array.
Returns +nil+ if no changes were made, otherwise returns
<i>ary</i>.</p>

<p>[ “a”, nil, “b”, nil, “c” ].compact! #=&gt; [ “a”, “b”, “c” ]
   [ “a”, “b”, “c” ].compact!           #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 282</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">compact!</span>
  result = <span style="color:#069">self</span>.select { |e| !e.nil? }
  <span style="color:#080;font-weight:bold">if</span> result.size == <span style="color:#069">self</span>.size
    <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>.replace(result)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="concat-instance_method">
  
    #<strong>concat</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.8</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


328
329
330
331
332
333
334
335
336</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 328</span>

static mrb_value
mrb_ary_concat_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value ary;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A</span><span style="color:#710">&quot;</span></span>, &amp;ary);
  mrb_ary_concat(mrb, <span style="color:#069">self</span>, ary);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-instance_method">
  
    #<strong>delete</strong>(key, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Delete element with index +key+</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 184</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">delete</span>(key, &amp;block)
  <span style="color:#080;font-weight:bold">while</span> i = <span style="color:#069">self</span>.index(key)
    <span style="color:#069">self</span>.delete_at(i)
    ret = key
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> block.call <span style="color:#080;font-weight:bold">if</span> ret.nil? &amp;&amp; block
  ret
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_at-instance_method">
  
    #<strong>delete_at</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.9</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 950</span>

static mrb_value
mrb_ary_delete_at(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int   index;
  mrb_value val;
  mrb_value *ptr;
  mrb_int len, alen;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">i</span><span style="color:#710">&quot;</span></span>, &amp;index);
  alen = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (index &lt; <span style="color:#00D">0</span>) index += alen;
  <span style="color:#080;font-weight:bold">if</span> (index &lt; <span style="color:#00D">0</span> || alen &lt;= index) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();

  ary_modify(mrb, a);
  ptr = ARY_PTR(a);
  val = ptr[index];

  ptr += index;
  len = alen - index;
  <span style="color:#080;font-weight:bold">while</span> (--len) {
    *ptr = *(ptr+<span style="color:#00D">1</span>);
    ++ptr;
  }
  ARY_SET_LEN(a, alen-<span style="color:#00D">1</span>);

  ary_shrink_capa(mrb, a);

  <span style="color:#080;font-weight:bold">return</span> val;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_if-instance_method">
  
    #<strong>delete_if</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.delete_if { |item| block }  -&gt; ary
    ary.delete_if                   -&gt; Enumerator</p>

<p>Deletes every element of +self+ for which block evaluates to +true+.</p>

<p>The array is changed instantly every time the block is called, not after
 the iteration is over.</p>

<p>See also Array#reject!</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">scores = [ <span style="color:#00D">97</span>, <span style="color:#00D">42</span>, <span style="color:#00D">75</span> ]
scores.delete_if {|score| score &lt; <span style="color:#00D">80</span> }   <span style="color:#777">#=&gt; [97]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


513
514
515
516
517
518
519
520
521
522
523
524
525</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 513</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">delete_if</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:delete_if</span> <span style="color:#080;font-weight:bold">unless</span> block

  idx = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> idx &lt; <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#080;font-weight:bold">if</span> block.call(<span style="color:#069">self</span>[idx])
      <span style="color:#069">self</span>.delete_at(idx)
    <span style="color:#080;font-weight:bold">else</span>
      idx += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="difference-instance_method">
  
    #<strong>difference</strong>(*args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.difference(other_ary1, other_ary2, …)   -&gt; new_ary</p>

<p>Returns a new array that is a copy of the original array, removing all
occurrences of any item that also appear in +other_ary+. The order is
preserved from the original array.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 99</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">difference</span>(*args)
  ary = <span style="color:#069">self</span>
  args.each <span style="color:#080;font-weight:bold">do</span> |x|
    ary = ary - x
  <span style="color:#080;font-weight:bold">end</span>
  ary
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dig-instance_method">
  
    #<strong>dig</strong>(idx, *args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
  ary.dig(idx, …)                 -&gt; object</p>

<p>Extracts the nested value specified by the sequence of <i>idx</i>
objects by calling +dig+ at each step, returning +nil+ if any
intermediate step is +nil+.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


816
817
818
819
820
821
822
823</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 816</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dig</span>(idx,*args)
  n = <span style="color:#069">self</span>[idx]
  <span style="color:#080;font-weight:bold">if</span> args.size &gt; <span style="color:#00D">0</span>
    n&amp;.dig(*args)
  <span style="color:#080;font-weight:bold">else</span>
    n
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_index-instance_method">
  
    #<strong>each_index</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Calls the given block for each element of +self+
and pass the index of the respective element.</p>

<p>ISO 15.2.12.5.11</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 29</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each_index</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:each_index</span> <span style="color:#080;font-weight:bold">unless</span> block

  idx = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> idx &lt; length
    block.call(idx)
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    #<strong>empty?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.12</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1111
1112
1113
1114
1115
1116
1117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1111</span>

static mrb_value
mrb_ary_empty_p(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(ARY_LEN(a) == <span style="color:#00D">0</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eql?-instance_method">
  
    #<strong>eql?</strong>(other)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if +self+ and <em>other</em> are the same object,
 or are both arrays with the same content.</p>

<p>ISO 15.2.12.5.34 (x)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 133</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">eql?</span>(other)
  other = <span style="color:#069">self</span>.__ary_eq(other)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">if</span> other == <span style="color:#069">false</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>  <span style="color:#080;font-weight:bold">if</span> other == <span style="color:#069">true</span>
  len = <span style="color:#069">self</span>.size
  i = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> i &lt; len
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">unless</span> <span style="color:#069">self</span>[i].eql?(other[i])
    i += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch-instance_method">
  
    #<strong>fetch</strong>(n, ifnone = NONE, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.fetch(index)                    -&gt; obj
    ary.fetch(index, default)           -&gt; obj
    ary.fetch(index) { |index| block }  -&gt; obj</p>

<p>Tries to return the element at position +index+, but throws an IndexError
 exception if the referenced +index+ lies outside of the array bounds.  This
 error can be prevented by supplying a second argument, which will act as a
 +default+ value.</p>

<p>Alternatively, if a block is given it will only be executed when an
 invalid +index+ is referenced.</p>

<p>Negative values of +index+ count from the end of the array.</p>

<pre class="code ruby"><code class="ruby">a = [ <span style="color:#00D">11</span>, <span style="color:#00D">22</span>, <span style="color:#00D">33</span>, <span style="color:#00D">44</span> ]
a.fetch(<span style="color:#00D">1</span>)               <span style="color:#777">#=&gt; 22</span>
a.fetch(<span style="color:#00D">-1</span>)              <span style="color:#777">#=&gt; 44</span>
a.fetch(<span style="color:#00D">4</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">cat</span><span style="color:#710">'</span></span>)        <span style="color:#777">#=&gt; &quot;cat&quot;</span>
a.fetch(<span style="color:#00D">100</span>) { |i| puts <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>i<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> is out of bounds</span><span style="color:#710">&quot;</span></span> }
                         <span style="color:#777">#=&gt; &quot;100 is out of bounds&quot;</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 327</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">fetch</span>(n, ifnone=<span style="color:#036;font-weight:bold">NONE</span>, &amp;block)
  warn <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">block supersedes default value argument</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> !n.nil? &amp;&amp; ifnone != <span style="color:#036;font-weight:bold">NONE</span> &amp;&amp; block

  idx = n
  <span style="color:#080;font-weight:bold">if</span> idx &lt; <span style="color:#00D">0</span>
    idx += size
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">if</span> idx &lt; <span style="color:#00D">0</span> || size &lt;= idx
    <span style="color:#080;font-weight:bold">return</span> block.call(n) <span style="color:#080;font-weight:bold">if</span> block
    <span style="color:#080;font-weight:bold">if</span> ifnone == <span style="color:#036;font-weight:bold">NONE</span>
      raise <span style="color:#036;font-weight:bold">IndexError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">index </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>n<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> outside of array bounds: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>-size<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">...</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>size<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">return</span> ifnone
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>[idx]
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fill-instance_method">
  
    #<strong>fill</strong>(arg0 = nil, arg1 = nil, arg2 = nil, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.fill(obj)                                 -&gt; ary
    ary.fill(obj, start [, length])               -&gt; ary
    ary.fill(obj, range )                         -&gt; ary
    ary.fill { |index| block }                    -&gt; ary
    ary.fill(start [, length] ) { |index| block } -&gt; ary
    ary.fill(range) { |index| block }             -&gt; ary</p>

<p>The first three forms set the selected elements of +self+ (which
 may be the entire array) to +obj+.</p>

<p>A +start+ of +nil+ is equivalent to zero.</p>

<p>A +length+ of +nil+ is equivalent to the length of the array.</p>

<p>The last three forms fill the array with the value of the given block,
 which is passed the absolute index of each element to be filled.</p>

<p>Negative values of +start+ count from the end of the array, where +-1+ is
 the last element.</p>

<pre class="code ruby"><code class="ruby">a = [ <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ]
a.fill(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">x</span><span style="color:#710">&quot;</span></span>)              <span style="color:#777">#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;]</span>
a.fill(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">w</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">-1</span>)          <span style="color:#777">#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;w&quot;]</span>
a.fill(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">z</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">2</span>, <span style="color:#00D">2</span>)        <span style="color:#777">#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;z&quot;, &quot;z&quot;]</span>
a.fill(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">y</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">0</span>..<span style="color:#00D">1</span>)        <span style="color:#777">#=&gt; [&quot;y&quot;, &quot;y&quot;, &quot;z&quot;, &quot;z&quot;]</span>
a.fill { |i| i*i }       <span style="color:#777">#=&gt; [0, 1, 4, 9]</span>
a.fill(<span style="color:#00D">-2</span>) { |i| i*i*i } <span style="color:#777">#=&gt; [0, 1, 8, 27]</span>
a.fill(<span style="color:#00D">1</span>, <span style="color:#00D">2</span>) { |i| i+<span style="color:#00D">1</span> } <span style="color:#777">#=&gt; [0, 2, 3, 27]</span>
a.fill(<span style="color:#00D">0</span>..<span style="color:#00D">1</span>) { |i| i+<span style="color:#00D">1</span> } <span style="color:#777">#=&gt; [1, 2, 3, 27]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 377</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">fill</span>(arg0=<span style="color:#069">nil</span>, arg1=<span style="color:#069">nil</span>, arg2=<span style="color:#069">nil</span>, &amp;block)
  <span style="color:#080;font-weight:bold">if</span> arg0.nil? &amp;&amp; arg1.nil? &amp;&amp; arg2.nil? &amp;&amp; !block
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong number of arguments (0 for 1..3)</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>

  beg = len = <span style="color:#00D">0</span>
  ary = []
  <span style="color:#080;font-weight:bold">if</span> block
    <span style="color:#080;font-weight:bold">if</span> arg0.nil? &amp;&amp; arg1.nil? &amp;&amp; arg2.nil?
      <span style="color:#777"># ary.fill { |index| block }                    -&gt; ary</span>
      beg = <span style="color:#00D">0</span>
      len = <span style="color:#069">self</span>.size
    <span style="color:#080;font-weight:bold">elsif</span> !arg0.nil? &amp;&amp; arg0.kind_of?(<span style="color:#036;font-weight:bold">Range</span>)
      <span style="color:#777"># ary.fill(range) { |index| block }             -&gt; ary</span>
      beg = arg0.begin
      beg += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> beg &lt; <span style="color:#00D">0</span>
      len = arg0.end
      len += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> len &lt; <span style="color:#00D">0</span>
      len += <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">unless</span> arg0.exclude_end?
    <span style="color:#080;font-weight:bold">elsif</span> !arg0.nil?
      <span style="color:#777"># ary.fill(start [, length] ) { |index| block } -&gt; ary</span>
      beg = arg0
      beg += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> beg &lt; <span style="color:#00D">0</span>
      <span style="color:#080;font-weight:bold">if</span> arg1.nil?
        len = <span style="color:#069">self</span>.size
      <span style="color:#080;font-weight:bold">else</span>
        len = arg0 + arg1
      <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#080;font-weight:bold">if</span> !arg0.nil? &amp;&amp; arg1.nil? &amp;&amp; arg2.nil?
      <span style="color:#777"># ary.fill(obj)                                 -&gt; ary</span>
      beg = <span style="color:#00D">0</span>
      len = <span style="color:#069">self</span>.size
    <span style="color:#080;font-weight:bold">elsif</span> !arg0.nil? &amp;&amp; !arg1.nil? &amp;&amp; arg1.kind_of?(<span style="color:#036;font-weight:bold">Range</span>)
      <span style="color:#777"># ary.fill(obj, range )                         -&gt; ary</span>
      beg = arg1.begin
      beg += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> beg &lt; <span style="color:#00D">0</span>
      len = arg1.end
      len += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> len &lt; <span style="color:#00D">0</span>
      len += <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">unless</span> arg1.exclude_end?
    <span style="color:#080;font-weight:bold">elsif</span> !arg0.nil? &amp;&amp; !arg1.nil?
      <span style="color:#777"># ary.fill(obj, start [, length])               -&gt; ary</span>
      beg = arg1
      beg += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> beg &lt; <span style="color:#00D">0</span>
      <span style="color:#080;font-weight:bold">if</span> arg2.nil?
        len = <span style="color:#069">self</span>.size
      <span style="color:#080;font-weight:bold">else</span>
        len = beg + arg2
      <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>

  i = beg
  <span style="color:#080;font-weight:bold">if</span> block
    <span style="color:#080;font-weight:bold">while</span> i &lt; len
      <span style="color:#069">self</span>[i] = block.call(i)
      i += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#080;font-weight:bold">while</span> i &lt; len
      <span style="color:#069">self</span>[i] = arg0
      i += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="first-instance_method">
  
    #<strong>first</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.13</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 981</span>

static mrb_value
mrb_ary_first(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int size, alen;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_argc(mrb) == <span style="color:#00D">0</span>) {
    <span style="color:#080;font-weight:bold">return</span> (ARY_LEN(a) &gt; <span style="color:#00D">0</span>)? ARY_PTR(a)[<span style="color:#00D">0</span>]: mrb_nil_value();
  }
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|i</span><span style="color:#710">&quot;</span></span>, &amp;size);
  <span style="color:#080;font-weight:bold">if</span> (size &lt; <span style="color:#00D">0</span>) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">negative array size</span><span style="color:#710">&quot;</span></span>);
  }

  alen = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (size &gt; alen) size = alen;
  <span style="color:#080;font-weight:bold">if</span> (ARY_SHARED_P(a)) {
    <span style="color:#080;font-weight:bold">return</span> ary_subseq(mrb, a, <span style="color:#00D">0</span>, size);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_ary_new_from_values(mrb, size, ARY_PTR(a));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten-instance_method">
  
    #<strong>flatten</strong>(depth = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.flatten -&gt; new_ary
   ary.flatten(level) -&gt; new_ary</p>

<p>Returns a new array that is a one-dimensional flattening of this
array (recursively). That is, for every element that is an array,
extract its elements into the new array.  If the optional
<i>level</i> argument determines the level of recursion to flatten.</p>

<p>s = [ 1, 2, 3 ]           #=&gt; [1, 2, 3]
   t = [ 4, 5, 6, [7, 8] ]   #=&gt; [4, 5, 6, [7, 8]]
   a = [ s, t, 9, 10 ]       #=&gt; [[1, 2, 3], [4, 5, 6, [7, 8]], 9, 10]
   a.flatten                 #=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
   a = [ 1, 2, [3, [4, 5] ] ]
   a.flatten(1)              #=&gt; [1, 2, 3, [4, 5]]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 211</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">flatten</span>(depth=<span style="color:#069">nil</span>)
  res = dup
  res.flatten! depth
  res
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten!-instance_method">
  
    #<strong>flatten!</strong>(depth = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.flatten!        -&gt; ary or nil
   ary.flatten!(level) -&gt; array or nil</p>

<p>Flattens +self+ in place.
Returns <code>nil</code> if no modifications were made (i.e.,
<i>ary</i> contains no subarrays.)  If the optional <i>level</i>
argument determines the level of recursion to flatten.</p>

<p>a = [ 1, 2, [3, [4, 5] ] ]
   a.flatten!   #=&gt; [1, 2, 3, 4, 5]
   a.flatten!   #=&gt; nil
   a            #=&gt; [1, 2, 3, 4, 5]
   a = [ 1, 2, [3, [4, 5] ] ]
   a.flatten!(1) #=&gt; [1, 2, 3, [4, 5]]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 234</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">flatten!</span>(depth=<span style="color:#069">nil</span>)
  modified = <span style="color:#069">false</span>
  ar = []
  idx = <span style="color:#00D">0</span>
  len = size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    e = <span style="color:#069">self</span>[idx]
    <span style="color:#080;font-weight:bold">if</span> e.is_a?(<span style="color:#036;font-weight:bold">Array</span>) &amp;&amp; (depth.nil? || depth &gt; <span style="color:#00D">0</span>)
      ar += e.flatten(depth.nil? ? <span style="color:#069">nil</span> : depth - <span style="color:#00D">1</span>)
      modified = <span style="color:#069">true</span>
    <span style="color:#080;font-weight:bold">else</span>
      ar &lt;&lt; e
    <span style="color:#080;font-weight:bold">end</span>
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">if</span> modified
    <span style="color:#069">self</span>.replace(ar)
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index-instance_method">
  
    #<strong>index</strong>(val = NONE, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.index(val)            -&gt; int or nil
    ary.index {|item| block } -&gt;  int or nil</p>

<p>Returns the <em>index</em> of the first object in +ary+ such that the object is
 <code>==</code> to +obj+.</p>

<p>If a block is given instead of an argument, returns the <em>index</em> of the
 first object for which the block returns +true+.  Returns +nil+ if no
 match is found.</p>

<p>ISO 15.2.12.5.14</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1025</span>

static mrb_value
mrb_ary_index_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value obj;
  mrb_int i;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;obj);
  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; RARRAY_LEN(<span style="color:#069">self</span>); i++) {
    <span style="color:#080;font-weight:bold">if</span> (mrb_equal(mrb, RARRAY_PTR(<span style="color:#069">self</span>)[i], obj)) {
      <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(i);
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize_copy-instance_method">
  
    #<strong>initialize_copy</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.16</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415
416
417
418
419
420
421
422</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 413</span>

static mrb_value
mrb_ary_replace_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value other;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A</span><span style="color:#710">&quot;</span></span>, &amp;other);
  mrb_ary_replace(mrb, <span style="color:#069">self</span>, other);

  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert-instance_method">
  
    #<strong>insert</strong>(idx, *args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.insert(index, obj…)  -&gt; ary</p>

<p>Inserts the given values before the element with the given +index+.</p>

<p>Negative indices count backwards from the end of the array, where +-1+ is
 the last element.</p>

<pre class="code ruby"><code class="ruby">a = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">%w{</span><span style="color:#D20"> a b c d </span><span style="color:#710">}</span></span>
a.insert(<span style="color:#00D">2</span>, <span style="color:#00D">99</span>)         <span style="color:#777">#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, &quot;d&quot;]</span>
a.insert(<span style="color:#00D">-2</span>, <span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>)   <span style="color:#777">#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, 1, 2, 3, &quot;d&quot;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


574
575
576
577
578</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 574</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">insert</span>(idx, *args)
  idx += <span style="color:#069">self</span>.size + <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">if</span> idx &lt; <span style="color:#00D">0</span>
  <span style="color:#069">self</span>[idx, <span style="color:#00D">0</span>] = args
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='to_s-instance_method'>to_s</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return the contents of this array as a string.</p>

<p>ISO 15.2.12.5.31 (x)</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 103</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">inspect</span>
  <span style="color:#069">self</span>._inspect({})
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="intersection-instance_method">
  
    #<strong>intersection</strong>(*args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.intersection(other_ary,…)  -&gt; new_ary</p>

<p>Set Intersection—Returns a new array containing elements common to
this array and <i>other_ary</i>s, removing duplicates. The order is
preserved from the original array.</p>

<p>[1, 2, 3].intersection([3, 4, 1], [1, 3, 5])  #=&gt; [1, 3]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 186</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">intersection</span>(*args)
  ary = <span style="color:#069">self</span>
  args.each <span style="color:#080;font-weight:bold">do</span> |x|
    ary = ary &amp; x
  <span style="color:#080;font-weight:bold">end</span>
  ary
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="join-instance_method">
  
    #<strong>join</strong>(sep = &quot;&quot;)  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a string created by converting each element of the array to
a string, separated by <i>sep</i>.</p>

<p>[ “a”, “b”, “c” ].join        #=&gt; “abc”
   [ “a”, “b”, “c” ].join(“-“)   #=&gt; “a-b-c”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1208
1209
1210
1211
1212
1213
1214
1215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1208</span>

static mrb_value
mrb_ary_join_m(mrb_state *mrb, mrb_value ary)
{
  mrb_value sep = mrb_nil_value();

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|S!</span><span style="color:#710">&quot;</span></span>, &amp;sep);
  <span style="color:#080;font-weight:bold">return</span> mrb_ary_join(mrb, ary, sep);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="keep_if-instance_method">
  
    #<strong>keep_if</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.keep_if { |item| block } -&gt; ary
    ary.keep_if                  -&gt; Enumerator</p>

<p>Deletes every element of +self+ for which the given block evaluates to
 +false+.</p>

<p>See also Array#select!</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">a = [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>, <span style="color:#00D">4</span>, <span style="color:#00D">5</span>]
a.keep_if { |val| val &gt; <span style="color:#00D">3</span> } <span style="color:#777">#=&gt; [4, 5]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


735
736
737
738
739
740
741
742
743
744
745
746
747
748</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 735</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">keep_if</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:keep_if</span> <span style="color:#080;font-weight:bold">unless</span> block

  idx = <span style="color:#00D">0</span>
  len = <span style="color:#069">self</span>.size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#080;font-weight:bold">if</span> block.call(<span style="color:#069">self</span>[idx])
      idx += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">else</span>
      <span style="color:#069">self</span>.delete_at(idx)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last-instance_method">
  
    #<strong>last</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.18</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1003</span>

static mrb_value
mrb_ary_last(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int n, size, alen;

  n = mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|i</span><span style="color:#710">&quot;</span></span>, &amp;size);
  alen = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (n == <span style="color:#00D">0</span>) {
    <span style="color:#080;font-weight:bold">return</span> (alen &gt; <span style="color:#00D">0</span>) ? ARY_PTR(a)[alen - <span style="color:#00D">1</span>]: mrb_nil_value();
  }

  <span style="color:#080;font-weight:bold">if</span> (size &lt; <span style="color:#00D">0</span>) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">negative array size</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">if</span> (size &gt; alen) size = alen;
  <span style="color:#080;font-weight:bold">if</span> (ARY_SHARED_P(a) || size &gt; <span style="color:#036;font-weight:bold">ARY_DEFAULT_LEN</span>) {
    <span style="color:#080;font-weight:bold">return</span> ary_subseq(mrb, a, alen - size, size);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_ary_new_from_values(mrb, size, ARY_PTR(a) + alen - size);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    #<strong>length</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.19</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1079
1080
1081
1082
1083
1084
1085</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1079</span>

static mrb_value
mrb_ary_size(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(ARY_LEN(a));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="permutation-instance_method">
  
    #<strong>permutation</strong>(n = self.size, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.permutation { |p| block }          -&gt; ary
   ary.permutation                        -&gt; Enumerator
   ary.permutation(n) { |p| block }       -&gt; ary
   ary.permutation(n)                     -&gt; Enumerator</p>

<p>When invoked with a block, yield all permutations of length +n+ of the
elements of the array, then return the array itself.</p>

<p>If +n+ is not specified, yield all permutations of all elements.</p>

<p>The implementation makes no guarantees about the order in which the
permutations are yielded.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>Examples:</p>

<p>a = [1, 2, 3]
 a.permutation.to_a    #=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
 a.permutation(1).to_a #=&gt; [[1],[2],[3]]
 a.permutation(2).to_a #=&gt; [[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]
 a.permutation(3).to_a #=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
 a.permutation(0).to_a #=&gt; [[]] # one permutation of length 0
 a.permutation(4).to_a #=&gt; []   # no permutations of length 4</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 851</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">permutation</span>(n=<span style="color:#069">self</span>.size, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:permutation</span>, n) <span style="color:#080;font-weight:bold">unless</span> block
  size = <span style="color:#069">self</span>.size
  <span style="color:#080;font-weight:bold">if</span> n == <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">yield</span> []
  <span style="color:#080;font-weight:bold">elsif</span> <span style="color:#00D">0</span> &lt; n &amp;&amp; n &lt;= size
    i = <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">while</span> i&lt;size
      result = [<span style="color:#069">self</span>[i]]
      <span style="color:#080;font-weight:bold">if</span> n-<span style="color:#00D">1</span> &gt; <span style="color:#00D">0</span>
        ary = <span style="color:#069">self</span>[<span style="color:#00D">0</span>...i] + <span style="color:#069">self</span>[i+<span style="color:#00D">1</span>..<span style="color:#00D">-1</span>]
        ary.permutation(n-<span style="color:#00D">1</span>) <span style="color:#080;font-weight:bold">do</span> |c|
          <span style="color:#080;font-weight:bold">yield</span> result + c
        <span style="color:#080;font-weight:bold">end</span>
      <span style="color:#080;font-weight:bold">else</span>
        <span style="color:#080;font-weight:bold">yield</span> result
      <span style="color:#080;font-weight:bold">end</span>
      i += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pop-instance_method">
  
    #<strong>pop</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.21</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


530
531
532
533
534
535
536
537
538
539
540</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 530</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_ary_pop(mrb_state *mrb, mrb_value ary)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(ary);
  mrb_int len = ARY_LEN(a);

  ary_modify_check(mrb, a);
  <span style="color:#080;font-weight:bold">if</span> (len == <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  ARY_SET_LEN(a, len-<span style="color:#00D">1</span>);
  <span style="color:#080;font-weight:bold">return</span> ARY_PTR(a)[len-<span style="color:#00D">1</span>];
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push-instance_method">
  
    #<strong>push</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='append-instance_method'>append</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.22</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 508</span>

static mrb_value
mrb_ary_push_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value *argv;
  mrb_int len, len2, alen;
  struct <span style="color:#036;font-weight:bold">RArray</span> *a;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*!</span><span style="color:#710">&quot;</span></span>, &amp;argv, &amp;alen);
  a = mrb_ary_ptr(<span style="color:#069">self</span>);
  ary_modify(mrb, a);
  len = ARY_LEN(a);
  len2 = len + alen;
  <span style="color:#080;font-weight:bold">if</span> (ARY_CAPA(a) &lt; len2) {
    ary_expand_capa(mrb, a, len2);
  }
  array_copy(ARY_PTR(a)+len, argv, alen);
  ARY_SET_LEN(a, len2);
  mrb_write_barrier(mrb, (struct <span style="color:#036;font-weight:bold">RBasic</span>*)a);

  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rassoc-instance_method">
  
    #<strong>rassoc</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Searches through the array whose elements are also arrays. Compares
<em>obj</em> with the second element of each contained array using
<code>==</code>. Returns the first contained array that matches. See
also <code>Array#assoc</code>.</p>

<p>a = [ [ 1, “one”], [2, “two”], [3, “three”], [“ii”, “two”] ]
   a.rassoc(“two”)    #=&gt; [2, “two”]
   a.rassoc(“four”)   #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/src/array.c', line 58</span>

static mrb_value
mrb_ary_rassoc(mrb_state *mrb, mrb_value ary)
{
  mrb_int i;
  mrb_value v, value;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);

  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; RARRAY_LEN(ary); ++i) {
    v = RARRAY_PTR(ary)[i];
    <span style="color:#080;font-weight:bold">if</span> (mrb_array_p(v) &amp;&amp;
        RARRAY_LEN(v) &gt; <span style="color:#00D">1</span> &amp;&amp;
        mrb_equal(mrb, RARRAY_PTR(v)[<span style="color:#00D">1</span>], value))
      <span style="color:#080;font-weight:bold">return</span> v;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reject!-instance_method">
  
    #<strong>reject!</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.reject! { |item| block }  -&gt; ary or nil
    ary.reject!                   -&gt; Enumerator</p>

<p>Equivalent to Array#delete_if, deleting elements from +self+ for which the
 block evaluates to +true+, but returns +nil+ if no changes were made.</p>

<p>The array is changed instantly every time the block is called, not after
 the iteration is over.</p>

<p>See also Enumerable#reject and Array#delete_if.</p>

<p>If no block is given, an Enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 542</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">reject!</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:reject!</span> <span style="color:#080;font-weight:bold">unless</span> block

  len = <span style="color:#069">self</span>.size
  idx = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> idx &lt; <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#080;font-weight:bold">if</span> block.call(<span style="color:#069">self</span>[idx])
      <span style="color:#069">self</span>.delete_at(idx)
    <span style="color:#080;font-weight:bold">else</span>
      idx += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>.size == len
    <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="replace-instance_method">
  
    #<strong>replace</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.23</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415
416
417
418
419
420
421
422</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 413</span>

static mrb_value
mrb_ary_replace_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value other;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A</span><span style="color:#710">&quot;</span></span>, &amp;other);
  mrb_ary_replace(mrb, <span style="color:#069">self</span>, other);

  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reverse-instance_method">
  
    #<strong>reverse</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.24</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 474</span>

static mrb_value
mrb_ary_reverse(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>), *b = ary_new_capa(mrb, ARY_LEN(a));
  mrb_int len = ARY_LEN(a);

  <span style="color:#080;font-weight:bold">if</span> (len &gt; <span style="color:#00D">0</span>) {
    mrb_value *p1, *p2, *e;

    p1 = ARY_PTR(a);
    e  = p1 + len;
    p2 = ARY_PTR(b) + len - <span style="color:#00D">1</span>;
    <span style="color:#080;font-weight:bold">while</span> (p1 &lt; e) {
      *p2-- = *p1++;
    }
    ARY_SET_LEN(b, len);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_obj_value(b);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reverse!-instance_method">
  
    #<strong>reverse!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.25</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 452</span>

static mrb_value
mrb_ary_reverse_bang(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int len = ARY_LEN(a);

  <span style="color:#080;font-weight:bold">if</span> (len &gt; <span style="color:#00D">1</span>) {
    mrb_value *p1, *p2;

    ary_modify(mrb, a);
    p1 = ARY_PTR(a);
    p2 = p1 + len - <span style="color:#00D">1</span>;

    <span style="color:#080;font-weight:bold">while</span> (p1 &lt; p2) {
      mrb_value tmp = *p1;
      *p1++ = *p2;
      *p2-- = tmp;
    }
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reverse_each-instance_method">
  
    #<strong>reverse_each</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>for efficiency</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294
295
296
297
298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 292</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">reverse_each</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:reverse_each</span> <span style="color:#080;font-weight:bold">unless</span> block

  i = <span style="color:#069">self</span>.size - <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">while</span> i&gt;=<span style="color:#00D">0</span>
    block.call(<span style="color:#069">self</span>[i])
    i -= <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rindex-instance_method">
  
    #<strong>rindex</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.26</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1040</span>

static mrb_value
mrb_ary_rindex_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value obj;
  mrb_int i, len;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;obj);
  <span style="color:#080;font-weight:bold">for</span> (i = RARRAY_LEN(<span style="color:#069">self</span>) - <span style="color:#00D">1</span>; i &gt;= <span style="color:#00D">0</span>; i--) {
    <span style="color:#080;font-weight:bold">if</span> (mrb_equal(mrb, RARRAY_PTR(<span style="color:#069">self</span>)[i], obj)) {
      <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(i);
    }
    <span style="color:#080;font-weight:bold">if</span> (i &gt; (len = RARRAY_LEN(<span style="color:#069">self</span>))) {
      i = len;
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rotate-instance_method">
  
    #<strong>rotate</strong>(count = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.rotate(count=1)    -&gt; new_ary</p>

<p>Returns a new array by rotating +self+ so that the element at +count+ is
 the first element of the new array.</p>

<p>If +count+ is negative then it rotates in the opposite direction, starting
 from the end of +self+ where +-1+ is the last element.</p>

<pre class="code ruby"><code class="ruby">a = [ <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ]
a.rotate         <span style="color:#777">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
a                <span style="color:#777">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
a.rotate(<span style="color:#00D">2</span>)      <span style="color:#777">#=&gt; [&quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;]</span>
a.rotate(<span style="color:#00D">-3</span>)     <span style="color:#777">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


461
462
463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 461</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rotate</span>(count=<span style="color:#00D">1</span>)
  ary = []
  len = <span style="color:#069">self</span>.length

  <span style="color:#080;font-weight:bold">if</span> len &gt; <span style="color:#00D">0</span>
    idx = (count &lt; <span style="color:#00D">0</span>) ? (len - (~count % len) - <span style="color:#00D">1</span>) : (count % len) <span style="color:#777"># rotate count</span>
    len.times <span style="color:#080;font-weight:bold">do</span>
      ary &lt;&lt; <span style="color:#069">self</span>[idx]
      idx += <span style="color:#00D">1</span>
      idx = <span style="color:#00D">0</span> <span style="color:#080;font-weight:bold">if</span> idx &gt; len-<span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  ary
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rotate!-instance_method">
  
    #<strong>rotate!</strong>(count = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.rotate!(count=1)   -&gt; ary</p>

<p>Rotates +self+ in place so that the element at +count+ comes first, and
 returns +self+.</p>

<p>If +count+ is negative then it rotates in the opposite direction, starting
 from the end of the array where +-1+ is the last element.</p>

<pre class="code ruby"><code class="ruby">a = [ <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ]
a.rotate!        <span style="color:#777">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
a                <span style="color:#777">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
a.rotate!(<span style="color:#00D">2</span>)     <span style="color:#777">#=&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span>
a.rotate!(<span style="color:#00D">-3</span>)    <span style="color:#777">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


492
493
494</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 492</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rotate!</span>(count=<span style="color:#00D">1</span>)
  <span style="color:#069">self</span>.replace(<span style="color:#069">self</span>.rotate(count))
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select!-instance_method">
  
    #<strong>select!</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='filter!-instance_method'>filter!</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    ary.select!  {|item| block } -&gt; ary or nil
    ary.select!                  -&gt; Enumerator</p>

<p>Invokes the given block passing in successive elements from +self+,
 deleting elements for which the block returns a +false+ value.</p>

<p>If changes were made, it will return +self+, otherwise it returns +nil+.</p>

<p>See also Array#keep_if</p>

<p>If no block is given, an Enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


764
765
766
767
768
769
770
771
772
773
774
775
776
777</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 764</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">select!</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:select!</span> <span style="color:#080;font-weight:bold">unless</span> block

  result = []
  idx = <span style="color:#00D">0</span>
  len = size
  <span style="color:#080;font-weight:bold">while</span> idx &lt; len
    elem = <span style="color:#069">self</span>[idx]
    result &lt;&lt; elem <span style="color:#080;font-weight:bold">if</span> block.call(elem)
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">if</span> len == result.size
  <span style="color:#069">self</span>.replace(result)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shift-instance_method">
  
    #<strong>shift</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.27</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 544</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_ary_shift(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int len = ARY_LEN(a);
  mrb_value val;

  ary_modify_check(mrb, a);
  <span style="color:#080;font-weight:bold">if</span> (len == <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (ARY_SHARED_P(a)) {
  <span style="color:#606">L_SHIFT</span>:
    val = a-&gt;as.heap.ptr[<span style="color:#00D">0</span>];
    a-&gt;as.heap.ptr++;
    a-&gt;as.heap.len--;
    <span style="color:#080;font-weight:bold">return</span> val;
  }
  <span style="color:#080;font-weight:bold">if</span> (len &gt; <span style="color:#036;font-weight:bold">ARY_SHIFT_SHARED_MIN</span>) {
    ary_make_shared(mrb, a);
    goto <span style="color:#036;font-weight:bold">L_SHIFT</span>;
  }
  <span style="color:#080;font-weight:bold">else</span> {
    mrb_value *ptr = ARY_PTR(a);
    mrb_int size = len;

    val = *ptr;
    <span style="color:#080;font-weight:bold">while</span> (--size) {
      *ptr = *(ptr+<span style="color:#00D">1</span>);
      ++ptr;
    }
    ARY_SET_LEN(a, len-<span style="color:#00D">1</span>);
  }
  <span style="color:#080;font-weight:bold">return</span> val;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size-instance_method">
  
    #<strong>size</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.28</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1079
1080
1081
1082
1083
1084
1085</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 1079</span>

static mrb_value
mrb_ary_size(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(ARY_LEN(a));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice-instance_method">
  
    
      <span class="overload">#<strong>[]</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Reference — Returns the element at +index+, or returns a
subarray starting at the +start+ index and continuing for +length+
elements, or returns a subarray specified by +range+ of indices.</p>

<p>Negative indices count backward from the end of the array (-1 is the last
element).  For +start+ and +range+ cases the starting index is just before
an element.  Additionally, an empty array is returned when the starting
index for an element range is at the end of the array.</p>

<p>Returns +nil+ if the index (or starting index) are out of range.</p>

<p>a = [ “a”, “b”, “c”, “d”, “e” ]
a[1]     =&gt; “b”
a[1,2]   =&gt; [“b”, “c”]
a[1..-2] =&gt; [“b”, “c”, “d”]</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 852</span>

static mrb_value
mrb_ary_aget(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int i, len, alen;
  mrb_value index;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o|i</span><span style="color:#710">&quot;</span></span>, &amp;index, &amp;len) == <span style="color:#00D">1</span>) {
    switch (mrb_type(index)) {
      <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">* a[n..m] *</span><span style="color:#404">/</span></span>
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_TT_RANGE</span>:
      <span style="color:#080;font-weight:bold">if</span> (mrb_range_beg_len(mrb, index, &amp;i, &amp;len, ARY_LEN(a), <span style="color:#069">TRUE</span>) == <span style="color:#036;font-weight:bold">MRB_RANGE_OK</span>) {
        <span style="color:#080;font-weight:bold">return</span> ary_subseq(mrb, a, i, len);
      }
      <span style="color:#080;font-weight:bold">else</span> {
        <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
      }
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_TT_FIXNUM</span>:
      <span style="color:#080;font-weight:bold">return</span> mrb_ary_ref(mrb, <span style="color:#069">self</span>, mrb_fixnum(index));
    <span style="color:#606">default</span>:
      <span style="color:#080;font-weight:bold">return</span> mrb_ary_ref(mrb, <span style="color:#069">self</span>, aget_index(mrb, index));
    }
  }

  i = aget_index(mrb, index);
  alen = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (i &lt; <span style="color:#00D">0</span>) i += alen;
  <span style="color:#080;font-weight:bold">if</span> (i &lt; <span style="color:#00D">0</span> || alen &lt; i) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (len &lt; <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (alen == i) <span style="color:#080;font-weight:bold">return</span> mrb_ary_new(mrb);
  <span style="color:#080;font-weight:bold">if</span> (len &gt; alen - i) len = alen - i;

  <span style="color:#080;font-weight:bold">return</span> ary_subseq(mrb, a, i, len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice!-instance_method">
  
    
      <span class="overload">#<strong>slice!</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice!</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice!</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deletes the element(s) given by an +index+ (optionally up to +length+
elements) or by a +range+.</p>

<p>Returns the deleted object (or objects), or +nil+ if the +index+ is out of
range.</p>

<p>a = [ “a”, “b”, “c” ]
   a.slice!(1)     #=&gt; “b”
   a               #=&gt; [“a”, “c”]
   a.slice!(-1)    #=&gt; “c”
   a               #=&gt; [“a”]
   a.slice!(100)   #=&gt; nil
   a               #=&gt; [“a”]</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice!</strong>(index)  &#x21d2; <tt>Object</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice!</strong>(start, length)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice!</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/src/array.c', line 131</span>

static mrb_value
mrb_ary_slice_bang(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_int i, j, k, len, alen;
  mrb_value val;
  mrb_value *ptr;
  mrb_value ary;

  mrb_ary_modify(mrb, a);

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_argc(mrb) == <span style="color:#00D">1</span>) {
    mrb_value index;

    mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o|i</span><span style="color:#710">&quot;</span></span>, &amp;index, &amp;len);
    switch (mrb_type(index)) {
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_TT_RANGE</span>:
      <span style="color:#080;font-weight:bold">if</span> (mrb_range_beg_len(mrb, index, &amp;i, &amp;len, ARY_LEN(a), <span style="color:#069">TRUE</span>) == <span style="color:#036;font-weight:bold">MRB_RANGE_OK</span>) {
        goto delete_pos_len;
      }
      <span style="color:#080;font-weight:bold">else</span> {
        <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
      }
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#606">MRB_TT_FIXNUM</span>:
      val = mrb_funcall(mrb, <span style="color:#069">self</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">delete_at</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">1</span>, index);
      <span style="color:#080;font-weight:bold">return</span> val;
    <span style="color:#606">default</span>:
      val = mrb_funcall(mrb, <span style="color:#069">self</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">delete_at</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">1</span>, index);
      <span style="color:#080;font-weight:bold">return</span> val;
    }
  }

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ii</span><span style="color:#710">&quot;</span></span>, &amp;i, &amp;len);
 <span style="color:#606">delete_pos_len</span>:
  alen = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (i &lt; <span style="color:#00D">0</span>) i += alen;
  <span style="color:#080;font-weight:bold">if</span> (i &lt; <span style="color:#00D">0</span> || alen &lt; i) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (len &lt; <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (alen == i) <span style="color:#080;font-weight:bold">return</span> mrb_ary_new(mrb);
  <span style="color:#080;font-weight:bold">if</span> (len &gt; alen - i) len = alen - i;

  ary = mrb_ary_new_capa(mrb, len);
  ptr = ARY_PTR(a);
  <span style="color:#080;font-weight:bold">for</span> (j = i, k = <span style="color:#00D">0</span>; k &lt; len; ++j, ++k) {
    mrb_ary_push(mrb, ary, ptr[j]);
  }

  ptr += i;
  <span style="color:#080;font-weight:bold">for</span> (j = i; j &lt; alen - len; ++j) {
    *ptr = *(ptr+len);
    ++ptr;
  }

  mrb_ary_resize(mrb, <span style="color:#069">self</span>, alen - len);
  <span style="color:#080;font-weight:bold">return</span> ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sort-instance_method">
  
    #<strong>sort</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 268</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">sort</span>(&amp;block)
  <span style="color:#069">self</span>.dup.sort!(&amp;block)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sort!-instance_method">
  
    #<strong>sort!</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sort all elements and replace +self+ with these
elements.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/array.rb', line 203</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">sort!</span>(&amp;block)
  stack = [ [ <span style="color:#00D">0</span>, <span style="color:#069">self</span>.size - <span style="color:#00D">1</span> ] ]
  <span style="color:#080;font-weight:bold">until</span> stack.empty?
    left, mid, right = stack.pop
    <span style="color:#080;font-weight:bold">if</span> right == <span style="color:#069">nil</span>
      right = mid
      <span style="color:#777"># sort self[left..right]</span>
      <span style="color:#080;font-weight:bold">if</span> left &lt; right
        <span style="color:#080;font-weight:bold">if</span> left + <span style="color:#00D">1</span> == right
          lval = <span style="color:#069">self</span>[left]
          rval = <span style="color:#069">self</span>[right]
          cmp = <span style="color:#080;font-weight:bold">if</span> block <span style="color:#080;font-weight:bold">then</span> block.call(lval,rval) <span style="color:#080;font-weight:bold">else</span> lval &lt;=&gt; rval <span style="color:#080;font-weight:bold">end</span>
          <span style="color:#080;font-weight:bold">if</span> cmp.nil?
            raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">comparison of </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>lval.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> and </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>rval.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> failed</span><span style="color:#710">&quot;</span></span>
          <span style="color:#080;font-weight:bold">end</span>
          <span style="color:#080;font-weight:bold">if</span> cmp &gt; <span style="color:#00D">0</span>
            <span style="color:#069">self</span>[left]  = rval
            <span style="color:#069">self</span>[right] = lval
          <span style="color:#080;font-weight:bold">end</span>
        <span style="color:#080;font-weight:bold">else</span>
          mid = ((left + right + <span style="color:#00D">1</span>) / <span style="color:#00D">2</span>).floor
          stack.push [ left, mid, right ]
          stack.push [ mid, right ]
          stack.push [ left, (mid - <span style="color:#00D">1</span>) ] <span style="color:#080;font-weight:bold">if</span> left &lt; mid - <span style="color:#00D">1</span>
        <span style="color:#080;font-weight:bold">end</span>
      <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">else</span>
      lary = <span style="color:#069">self</span>[left, mid - left]
      lsize = lary.size

      <span style="color:#777"># The entity sharing between lary and self may cause a large memory</span>
      <span style="color:#777"># copy operation in the merge loop below.  This harmless operation</span>
      <span style="color:#777"># cancels the sharing and provides a huge performance gain.</span>
      lary[<span style="color:#00D">0</span>] = lary[<span style="color:#00D">0</span>]

      <span style="color:#777"># merge</span>
      lidx = <span style="color:#00D">0</span>
      ridx = mid
      (left..right).each { |i|
        <span style="color:#080;font-weight:bold">if</span> lidx &gt;= lsize
          <span style="color:#080;font-weight:bold">break</span>
        <span style="color:#080;font-weight:bold">elsif</span> ridx &gt; right
          <span style="color:#069">self</span>[i, lsize - lidx] = lary[lidx, lsize - lidx]
          <span style="color:#080;font-weight:bold">break</span>
        <span style="color:#080;font-weight:bold">else</span>
          lval = lary[lidx]
          rval = <span style="color:#069">self</span>[ridx]
          cmp = <span style="color:#080;font-weight:bold">if</span> block <span style="color:#080;font-weight:bold">then</span> block.call(lval,rval) <span style="color:#080;font-weight:bold">else</span> lval &lt;=&gt; rval <span style="color:#080;font-weight:bold">end</span>
          <span style="color:#080;font-weight:bold">if</span> cmp.nil?
            raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">comparison of </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>lval.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> and </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>rval.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> failed</span><span style="color:#710">&quot;</span></span>
          <span style="color:#080;font-weight:bold">end</span>
          <span style="color:#080;font-weight:bold">if</span> cmp &lt;= <span style="color:#00D">0</span>
            <span style="color:#069">self</span>[i] = lval
            lidx += <span style="color:#00D">1</span>
          <span style="color:#080;font-weight:bold">else</span>
            <span style="color:#069">self</span>[i] = rval
            ridx += <span style="color:#00D">1</span>
          <span style="color:#080;font-weight:bold">end</span>
        <span style="color:#080;font-weight:bold">end</span>
      }
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_h-instance_method">
  
    #<strong>to_h</strong>(&amp;blk)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.to_h                -&gt;   Hash
   ary.to_h{|item| … }   -&gt;   Hash</p>

<p>Returns the result of interpreting <i>aray</i> as an array of
<tt>[key, value]</tt> pairs. If a block is given, it should
return <tt>[key, value]</tt> pairs to construct a hash.</p>

<pre class="code ruby"><code class="ruby">[[<span style="color:#A60">:foo</span>, <span style="color:#A60">:bar</span>], [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>]].to_h
  <span style="color:#777"># =&gt; {:foo =&gt; :bar, 1 =&gt; 2}</span>
[<span style="color:#00D">1</span>, <span style="color:#00D">2</span>].to_h{|x| [x, x*<span style="color:#00D">2</span>]}
  <span style="color:#777"># =&gt; {1 =&gt; 2, 2 =&gt; 4}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


963
964
965
966
967
968
969
970
971
972</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 963</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">to_h</span>(&amp;blk)
  h = {}
  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |v|
    v = blk.call(v) <span style="color:#080;font-weight:bold">if</span> blk
    raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong element type </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> <span style="color:#036;font-weight:bold">Array</span> === v
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong array length (expected 2, was </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.length<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">)</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> v.length == <span style="color:#00D">2</span>
    h[v[<span style="color:#00D">0</span>]] = v[<span style="color:#00D">1</span>]
  <span style="color:#080;font-weight:bold">end</span>
  h
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="transpose-instance_method">
  
    #<strong>transpose</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.transpose -&gt; new_ary</p>

<p>Assumes that self is an array of arrays and transposes the rows and columns.</p>

<p>If the length of the subarrays don’t match, an IndexError is raised.</p>

<p>Examples:</p>

<p>a = [[1,2], [3,4], [5,6]]
   a.transpose   #=&gt; [[1, 3, 5], [2, 4, 6]]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


934
935
936
937
938
939
940
941
942
943
944
945
946
947</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 934</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">transpose</span>
  <span style="color:#080;font-weight:bold">return</span> [] <span style="color:#080;font-weight:bold">if</span> empty?

  column_count = <span style="color:#069">nil</span>
  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |row|
    raise <span style="color:#036;font-weight:bold">TypeError</span> <span style="color:#080;font-weight:bold">unless</span> row.is_a?(<span style="color:#036;font-weight:bold">Array</span>)
    column_count ||= row.size
    raise <span style="color:#036;font-weight:bold">IndexError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">element size differs</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">unless</span> column_count == row.size
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#036;font-weight:bold">Array</span>.new(column_count) <span style="color:#080;font-weight:bold">do</span> |column_index|
    <span style="color:#069">self</span>.map { |row| row[column_index] }
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="union-instance_method">
  
    #<strong>union</strong>(*args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.union(other_ary,…)  -&gt; new_ary</p>

<p>Set Union—Returns a new array by joining this array with
<i>other_ary</i>, removing duplicates.</p>

<p>[“a”, “b”, “c”].union([“c”, “d”, “a”], [“a”, “c”, “e”])
          #=&gt; [“a”, “b”, “c”, “d”, “e”]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 134</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">union</span>(*args)
  ary = <span style="color:#069">self</span>.dup
  args.each <span style="color:#080;font-weight:bold">do</span> |x|
    ary.concat(x)
    ary.uniq!
  <span style="color:#080;font-weight:bold">end</span>
  ary
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uniq-instance_method">
  
    #<strong>uniq</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.uniq                -&gt; new_ary
   ary.uniq { |item| … } -&gt; new_ary</p>

<p>Returns a new array by removing duplicate values in +self+.</p>

<p>a = [ “a”, “a”, “b”, “b”, “c” ]
   a.uniq   #=&gt; [“a”, “b”, “c”]</p>

<p>b = [[“student”,”sam”], [“student”,”george”], [“teacher”,”matz”]]
   b.uniq { |s| s.first } # =&gt; [[“student”, “sam”], [“teacher”, “matz”]]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 53</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">uniq</span>(&amp;block)
  ary = <span style="color:#069">self</span>.dup
  ary.uniq!(&amp;block)
  ary
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uniq!-instance_method">
  
    #<strong>uniq!</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary.uniq!                -&gt; ary or nil
   ary.uniq! { |item| … } -&gt; ary or nil</p>

<p>Removes duplicate elements from +self+.
Returns <code>nil</code> if no changes are made (that is, no
duplicates are found).</p>

<p>a = [ “a”, “a”, “b”, “b”, “c” ]
   a.uniq!   #=&gt; [“a”, “b”, “c”]
   b = [ “a”, “b”, “c” ]
   b.uniq!   #=&gt; nil
   c = [[“student”,”sam”], [“student”,”george”], [“teacher”,”matz”]]
   c.uniq! { |s| s.first } # =&gt; [[“student”, “sam”], [“teacher”, “matz”]]</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 18</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">uniq!</span>(&amp;block)
  hash = {}
  <span style="color:#080;font-weight:bold">if</span> block
    <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |val|
      key = block.call(val)
      hash[key] = val <span style="color:#080;font-weight:bold">unless</span> hash.key?(key)
    <span style="color:#080;font-weight:bold">end</span>
    result = hash.values
  <span style="color:#080;font-weight:bold">else</span>
    hash = {}
    <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |val|
      hash[val] = val
    <span style="color:#080;font-weight:bold">end</span>
    result = hash.keys
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">if</span> result.size == <span style="color:#069">self</span>.size
    <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>.replace(result)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unshift-instance_method">
  
    #<strong>unshift</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='prepend-instance_method'>prepend</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.12.5.30</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/array.c', line 610</span>

static mrb_value
mrb_ary_unshift_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RArray</span> *a = mrb_ary_ptr(<span style="color:#069">self</span>);
  mrb_value *vals, *ptr;
  mrb_int alen, len;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*!</span><span style="color:#710">&quot;</span></span>, &amp;vals, &amp;alen);
  <span style="color:#080;font-weight:bold">if</span> (alen == <span style="color:#00D">0</span>) {
    ary_modify_check(mrb, a);
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
  }
  len = ARY_LEN(a);
  <span style="color:#080;font-weight:bold">if</span> (alen &gt; <span style="color:#036;font-weight:bold">ARY_MAX_SIZE</span> - len) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">array size too big</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">if</span> (ARY_SHARED_P(a)
      &amp;&amp; a-&gt;as.heap.aux.shared-&gt;refcnt == <span style="color:#00D">1</span> /* shared only referenced from this array *<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">
      &amp;&amp; a-&gt;as.heap.ptr - a-&gt;as.heap.aux.shared-&gt;ptr &gt;= alen) </span><span style="color:#404">/</span></span>* there<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">s room for unshifted item */ {
    ary_modify_check(mrb, a);
    a-&gt;as.heap.ptr -= alen;
    ptr = a-&gt;as.heap.ptr;
  }
  else {
    ary_modify(mrb, a);
    if (ARY_CAPA(a) &lt; len + alen)
      ary_expand_capa(mrb, a, len + alen);
    ptr = ARY_PTR(a);
    value_move(ptr + alen, ptr, len);
  }
  array_copy(ptr, vals, alen);
  ARY_SET_LEN(a, len+alen);
  while (alen--) {
    mrb_field_write_barrier_value(mrb, (struct RBasic*)a, vals[alen]);
  }

  return self;
}</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="values_at-instance_method">
  
    #<strong>values_at</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/src/array.c', line 98</span>

static mrb_value
mrb_ary_values_at(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int argc;
  mrb_value *argv;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*</span><span style="color:#710">&quot;</span></span>, &amp;argv, &amp;argc);

  <span style="color:#080;font-weight:bold">return</span> mrb_get_values_at(mrb, <span style="color:#069">self</span>, RARRAY_LEN(<span style="color:#069">self</span>), argc, argv, mrb_ary_ref);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="|-instance_method">
  
    #<strong>|</strong>(elem)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   ary | other_ary     -&gt; new_ary</p>

<p>Set Union—Returns a new array by joining this array with
<i>other_ary</i>, removing duplicates.</p>

<p>[ “a”, “b”, “c” ] | [ “c”, “d”, “a” ]
          #=&gt; [ “a”, “b”, “c”, “d” ]</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-array-ext/mrblib/array.rb', line 117</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">|</span>(elem)
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>elem.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> into Array</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> elem.class == <span style="color:#036;font-weight:bold">Array</span>

  ary = <span style="color:#069">self</span> + elem
  ary.uniq! <span style="color:#080;font-weight:bold">or</span> ary
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Nov 27 22:35:09 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 in <a href="https://github.com/sagmor/yard-mruby">mruby mode</a> 0.3.0 (ruby-2.5.5).
</div>

    </div>
  </body>
</html>